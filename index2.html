<html>
  <head>
    <title>Tone Generator</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
  </head>
  <script src="index2.js" type="text/javascript"></script>
  <body>
    <div id="controls" class="container" style="margin-top: 20px">
    </div>
    <div class="container">
      <div class="col-4">
    <button class="btn btn-primary" id="create-button" title="Create">Create new circle</button>
  </div>
    <br>
    <button class="btn btn-success" id="start-button" title="Play">Play</button>
    <button class="btn btn-danger" id="stop-button" title="Stop">Stop</button>
    <br>
  </div>
    <canvas style="margin-left: 10%; margin-top: 10px" id="canvas" width="1200" height="800"></canvas>
    <script>
        let flag = false
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext("2d");
        var circles = new Array();
        ctx.fillStyle = "black";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

          const center = new Path2D();
          center.arc(canvas.width, canvas.height, 15, 0, 2 * Math.PI);

        $(document).ready(function () {
  $(document).on("click", "#start-button", function(e) {
      playFrequency(circles);
      if (!flag)  {
        movement(circles);
        flag = true
      }
  })
});

$(document).ready(function () {
  $(document).on("click", "#stop-button", function(e) {
    stopFrequency(circles);
  })
});

$(document).ready(function () {
  $(document).on("click", "#create-button", function(e) {
     createCircle(canvas.width, canvas.height, circles)
     var length = circles.length

    var div = document.getElementById("controls")
    div.appendChild(Object.assign(document.createElement("label"), {innerHTML : 'Frequency ' + length}))
    div.appendChild(Object.assign(document.createElement("br")))
    div.appendChild(Object.assign(document.createElement('input'), {name: "frequency", class: "input-control", id: "frequency", type: "range", min: "0", max: "5500", step: "1", value: "0"}))
    div.appendChild(Object.assign(document.createElement("br")))
    div.appendChild(Object.assign(document.createElement("label"), {innerHTML : 'Speed ' + length}))
    div.appendChild(Object.assign(document.createElement("br")))
    div.appendChild(Object.assign(document.createElement('input'), {name: "speed", class: "input-control", id: "speed", type: "range", min: "0", max: "100", step: "0.1", value: "0"}))
    div.appendChild(Object.assign(document.createElement("br")))
    div.appendChild(Object.assign(document.createElement("label"), {innerHTML : 'Speed a: ' + length}))
    div.appendChild(Object.assign(document.createElement("br")))
    div.appendChild(Object.assign(document.createElement('input'), {name: "speed_a", class: "input-control", id: "speed_a", type: "range", min: "-5", max: "5", step: "0.01", value: "0"}))
    div.appendChild(Object.assign(document.createElement("br")))
    div.appendChild(Object.assign(document.createElement("label"), {innerHTML : 'Frequency a: ' + length}))
    div.appendChild(Object.assign(document.createElement("br")))
    div.appendChild(Object.assign(document.createElement('input'), {name: "frequency_a", style: "margin-bottom: 30px", class: "input-control", id: "frequency_a", type: "range", min: "-10", max: "10", step: "0.01", value: "0"}))
    div.appendChild(Object.assign(document.createElement("br")))
  })
});
    </script>
  </body>
</html>